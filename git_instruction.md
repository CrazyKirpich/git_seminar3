# Инструкция по работе с GIT

![Логотип GIT](git.jpg)

## Что такое GIT и как в нем работать? 

*Git* - система контроля версий, которая хранит не все файлы целиком, а только отличия между ними.

*Git* берёт на себя контроль версий проекта и позволяет переключаться между ними. 

Управление осуществляется вводом команд в *терминале* (ctrl + `)

Нажатие клавиши "q" возвращает 
в исходное окно терминала.

## Список наиболее часто используемых команд: 

* **Создание репозитория**

      Чтобы создать (инициализировать) новый репозиторий в текущей папке, нужно в терминале ввести команду:

            git init

* **Проверка состояния репозитория**

      Чтобы показать текущее состояние Git и есть ли изменения, которые требуется сохранить, нужно в терминале ввести команду:

            git status

* **Добавление версионности**
    
      Чтобы Git начал отслеживать наш текущий файл, нужно в терминале ввести команду:

            git add

      и после пробела ввести имя нужного файла, например:

            git add .\instruction_git.md

* **Фиксация изменений**

      Чтобы сохранить (зафиксировать) текущий статус файла, нужно в терминале ввести команду:

            git commit

      и добавить короткий комментарий в кавычках с помощью -m

            git commit -m "Снова все переиначил"

* **Журнал изменений**

      Чтобы увидеть количество сохранений, их ID и авторов изменений, нужно в терминале ввести команду:

            git log

      и добавить --oneline, чтобы было компактнее

            git log --oneline

      Чтобы увидеть абсолютно все коммиты добавьте параметр --all

            git log --oneline --all

      Чтобы увидеть дерево пересечений веток добавьте параметр --graph

            git log --oneline --all --graph

* **Переключение между версиями**

      Чтобы переключиться на любую версию из зафиксированных, нужно в терминале ввести команду:

            git checkout

      и добавить ID нужного сохранения

            git checkout cef555e

      Чтобы переключаться между ветками, нужно в терминале ввести команду:

            git checkout название_ветки

      Чтобы вернуться в главную ветку файла, нужно в терминале ввести команду:

            git checkout master

* **Разница между файлами**

      Чтобы увидеть разницу между текущим файлом и сохраненным, нужно в терминале ввести команду:

            git diff

      Чтобы сравнить 2 конкретных файла сохранения, нужно через пробел ввести их ID после команды git diff:

            git diff 60ff85e e3c551f
***
## Работа с ветками GIT

Ветки в GIT используются для совместной работы над проектом, а также, для деления общей задачи на подзадачи.

### Команды для работы с ветками: 

* **Простмотр всех веток**

      Для просмотра всех существующих веток используется команда:

            git branch
      
* **Создание новой ветки**

      Для создания новой ветки используется команда:

            git branch имя_ветки

* **Удаление веток**

      Для удаления ветки используется команда:

            git branch -d имя_ветки

* **Слияние веток**

      Для слияния веток используется команда:

            git merge имя_ветки
      
      При слиянии важно находиться именно в той ветке, куда будем вливать изменения.
     
### Конфликт изменений

При слиянии веток может возникнут конфликт изменений в случае, если строки чистовика пересекаются со строками черновика.

При работе в VS Code мы увидим нечто подобное:

![Конфликт слияния](conflict.JPG)

На картинке показана разница между текущим состоянием файла и входящими изменениями.

Вверху в окне конфликта мы видим 4 функциональные кнопки выбора:

1. Accept Current Change - оставить текущий вариант (зеленое поле)
2. Accept Incoming Change - оставить входящие изменения (синее поле)
3. Accept Both Changes - оставить и то и то (оба поля)
4. Compare Changes - сравнить изменения обоих вариантов

Не во всех редакторах исходного кода есть такая функция, как в VS Code. В случае, если такая функция отсутствует слияние автоматически пройдет по варианту Accept Both Changes.

## Игнорирование файлов

Не все файлы в папке проекта требуется отслеживать с помощью GIT. Картинки, документы Word и подобные файлы следует игнорировать.

Для того, чтобы GIT перестал видеть какой-либо файл, прежде всего, требуется создать файл с именем

      .gitignore

Далее нужно открыть файл *.gitignore* и уже в нем прописать имя и расширение файла, который требуется перестать отслеживать.

После этого нужно добавить файл *.gitignore* в отслеживаемые и сохранить его:

      git add .\.gitignore

      git commit -m "какой-то комментарий"
***     

## Работа с удаленными репозиториями

Работа с удаленными репозиториями осуществляется с помощью *Github*. 

*Git* и *Github* - не одно и тоже. 

*Git* - одна из систем котроля версий, а *Github* - сайт/сервис для работы с удаленными репозиториями.

### Команды для работы с удаленными репозиториями:

* **Создание локальной копии**

    Для создания у вас на компьютере копии удаленого репозитория, нужно воспользоваться командой:

        git clone

    после чего через пробел вставить ссылку на удаленный репозиторий (кнопка code на сайте gitрub)

        git clone https://github.com/CrazyKirpich/git_seminar3.git

    Команда git clone - состовная. Она не только загружает все изменения, но и пытается слить все ветки.

* **Экспорт изменений локального репозитория**

    Для отправки изменений из локального репозитория во внешний репозиторий, нужно воспользоваться командой:

        git push

    При первой отправке будет необходима авторизация во внешнем репозитории.

* **Импорт изменений внешнего репозитория**

    Чтобы скачать все из внешнего репозитория и автоматически сделать merge с нашей локальной версией, нужно воспользоваться командой:

        git pull

### Порядок действий при совместной работой над проектом:

1. Создать аккаунт на GitHub.com.
2. Создать локальный репозиторий.
3. “Подружить” ваш локальный и удалённый репозитории (*GitHub при создании нового репозитория подскажет, как это можно сделать*).
4. Отправить (*push*) ваш локальный репозиторий в удалённый (*на GitHub*).
5. Провести изменения “с другого компьютера”.
6. Выкачать (*pull*) актуальное состояние из удалённого репозитория.

### Предложение изменений

Для того, чтобы предложить свои правки и дополнения в чужой проект на Github, нужно воспользоваться (*на сайте*) командой **Pull request**.

Как сделать **Pull request**:

1. Заходим в чужой репозиторий на Github, находим кнопку **Fork**. Нажимаем **Fork**, тем самым сохраняя копию чужого репозитория у себя на аккаунте.
2. Делаем **git clone** новообразовавшегося репозиторя.
3. Создаем новую ветку, т.к. свои изменения принятно вносить в новую специально созданную ветку. Вносим изменения.
4. Фиксируем изменения (делаем коммиты).
5. Делаем **git push** измененной версии к себе на Github.
6. У себя на Github находим измененный репозиторий, выбираем ветку, в которой вы делали изменения, после чего находим кнопку **Contribure**, нажимаем, отправляем **Pull request**.
